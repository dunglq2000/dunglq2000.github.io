Программирование и информационные технологии
============================================

Вопрос 3

Построить бинарный классификатор для определения тональности текста (класс 1 - позитивное сообщение; класс 0 - негативное сообщение). Слова в сообщениях приведены к нормальной форме.

Классификатор для автоматического определения тональности текста необходимо построить на основе метода логистической регрессии. В качестве обучающего множества используйте сообщения, представленные в таблице ниже:

+-----------------+------------------------------+----------------+
| Номер сообщений | Сообщение                    | Истинный класс |
|                 |                              | :math:`y_i`    |
+=================+==============================+================+
| 1               | хорошо экран звук телефон    | 1              |
+-----------------+------------------------------+----------------+
| 2               | плохо качество звук телефон  | 0              |
+-----------------+------------------------------+----------------+
| 3               | плохо экран телефон          | 0              |
+-----------------+------------------------------+----------------+
| 4               | нравится телефон             | 1              |
+-----------------+------------------------------+----------------+
| 5               | нравится экран               | 0              |
+-----------------+------------------------------+----------------+
| 6               | плохо телефон                | 0              |
+-----------------+------------------------------+----------------+
| 7               | хорошо телефон               | 1              |
+-----------------+------------------------------+----------------+
| 8               | хорошо качество звук телефон | 1              |
+-----------------+------------------------------+----------------+

Для обучения классификатора необходимо преобразовать корпус текстовых сообщений в векторное представление в виде матрицы :math:`X = (x_{ij})`, каждая строка в которой соответствует отдельному сообщению (всего сообщений :math:`n=8`), а каждый столбец определённому слову (всего столбцов :math:`m=7`, т.к. в корпусе 7 слов, слова отсортированы по алфавиту по возрастанию). Элементы матрицы :math:`x_{ij}` могут принимать одно из двух значений: 1, если слово есть в сообщении, и 0, если слова не в сообщении.

Задача состоит в том, чтобы по обучающим данным найти вектор коэффициентов логистической регрессии :math:`\beta = (\beta_0, \beta_1, \ldots, \beta_m)`, где :math:`\beta_0` - свободный член, минимизируя функцию потерь (логарифмическую функцию ошибки). Классу 1 приписывается вероятность:

.. math:: p = \frac{1}{1 + e^{-z}}, \ z = \beta_0 + \sum_{i=1}^m \beta_i x_i.

Значения коэффициентов необходимо найти, используя метод градиентного спуска:

1. Инициализируем коэффициенты :math:`\beta = (\beta_0, \beta_1, \ldots, \beta_m)` начальными значениями (нулями).
2. На каждой итерации:

- Вычисляем предсказания вероятностей для всех сообщений по формуле логистической функции:

.. math:: p_i = \frac{1}{1 + e^{-z_i}}, \ z_i = \beta_0 + \sum_{i=1}^m \beta_i x_{ij},

где :math:`j = 1, \ldots, n` - номер документа.

- Считаем градиент функции потерь (логарифмической) по каждому коэффициенту:

.. math:: g_i = \frac{1}{n} \sum_{i=1}^n (p_i - y_i) \cdot x_{ij}, \ i \geqslant 1

.. math:: g_0 = \frac{1}{n} \sum_{i=1}^n (p_i - y_i)

3. Обновляем коэффициенты по правилу:

.. math:: \beta_j := \beta_j - \eta \cdot g_i

где :math:`\eta = 0.1` - шаг обучения (learning rate).

Повторяем шаги 2-3 заданное количество итераций (1000).

В качестве ответа необходимо вывести индексы положительных значений вектора коэффициентов :math:`\beta = (\beta_0, \beta_1, \ldots, \beta_m)`. Например, если вектор коэффициентов :math:`\beta = (-0.1,0.2,2.8,-1.7,-2.5,1.1,-2.1,-0.5)`, то в ответе необходимо записать 125.

Вопрос 4

Система «Центр маркировки» является специализированным программным продуктом, обеспечивающим централизованное ведение (получение, хранение, предоставление, выбытие и т.д.) данных по маркировке и предоставляющим набор сервисов интеграции с государственной системой «Честный знак». Национальный Каталог маркированных товаров (НКМТ) Российской Федерации (далее - Национальный каталог) создан с целью обеспечения единообразия, стандартизации и унификации данных о товаре, а также ведения всей необходимой справочной информации с единым его описанием во всей товаропроводящей цепи, от производителя и/или импортера товара до розницы. Центр маркировки использует национальный каталог в рамках взаимодействия с системой «Честный знак» и выполняет обработку заданий на создание карточек товаров. Далее будет рассмотрен данный процесс.

Центр маркировки получает задание на создание карточки товара от внутреннего каталога через брокера сообщений и запускает сценарий, описанный ниже и в виде диаграмм последовательности, доступных по ссылке.

Краткая схема работы:

1. Внутренний каталог отправляет задание на создание карточки товара;
2. Центр маркировки принимает задание на создание карточки и сохраняет его в базу данных;
3. Центр маркировки запускает обработку задания на создание карточки товара:
   
   1. Формирование и создание пакета обновлений;
   2. Отправка пакета на модерацию;
   3. Ожидание результатов модерации:
   
      1. Подписание карточки товара, в случае успеха - публикация;
      2. Фиксация негативного результата в случае неудачи;

4. Центр маркировки готовит к передаче для каталога результат создания товара:

   1. В случае успеха, отправка данных через брокера;
   2. В случае неудачи, если причина неудачи - качество входных данных или полученные замечания на этапе модерации;

5. Обогащение карточки товара на вызывающей стороне новыми данными.

Статусная модель задания на стороне центра маркировки:
- Ожидание обработки (Начальное состояние всех заданий);
- В процессе обработки (Задание сохранено, ожидается получение результатов);
- Обработано в НКМТ (Результат обработки получен, но ещё не отправлен в брокера);
- Процесс завершен (Результаты отправлены, задача завершена).

Статусная модель пакета обновлений на стороне национального каталога:

- Черновик - Пакет обновлений создан в черновом варианте;
- На модерации - Чистовой пакет обновлений отправлен на модерацию;
- Ожидание подписания - Пакет обновлений ожидает подписания;
- Подписано - Карточка товара подписана;
- Ошибка - Во время обработки пакета обновлений произошла ошибка (например, ошибка валидации данных).

Проанализируйте описание системы вместе с приложенными диаграммами последовательности и выберите верные утверждения.

Ответ

1. Центр маркировки отправляет в брокер сообщений информацию о промежуточных состояниях задания на создание карточки товара по мере изменения статусов
2. Центр маркировки принудительно отправляет карточку товара на модерацию, если поле ответа good_detailed_status не содержит moderation или notsigned при работе с товаром по GTIN (глобальному номеру товарной продукции)
3. В случаях, когда обработка карточки товара зависает на стороне HKMT в состоянии "ожидание модерации" более чем на сутки, центр маркировки отправляет данную карточку повторно
4. Когда статусная модель задания на стороне центра маркировки переходит в терминальное состояние, формируется пакет с информацией о результатах обработки, который отправляется в брокер сообщений
5. Система национального каталога ожидает подписания карточки товара с использованием прикреплённой подписи
6. Если в ходе проверки статуса обработки пакета обновлений в теле ответа не определено поле good_id, центр маркировки переводит такое задание в состояние "обработано" и записывает полученную ошибку в коллекцию Errors и завершает обработку
7. В рамках описанного сценария работы с национальным каталогом используется девять различных методов для обращения со стороны центра маркировки
8. В случаях, когда при вызове методов национального каталога был получен HTTP-ответ 404 Not Found, центр маркировки зафиксирует эту ошибку в базе данных, но будет продолжать повторные попытки вызовов в течение суток, оставляя задание в том статусе, который был изначально, на момент вызова метода

Вопрос 5

Будем считать расстояние между вершинами :math:`x` и :math:`y` в графе как минимальное количество ребер на пути от :math:`x` до :math:`y` и обозначать как :math:`d[x][y]`.

Известно, что в связном неориентированном графе с 20 вершинами для любых двух пар вершин :math:`(u,v)` и :math:`(x,y)` расстояния :math:`d[u][v]` и :math:`d[x][y]` различаются не более чем на 1. Какое минимальное число ребер может быть в таком графе?

Вопрос 6

2-3 дерево представляет собой корневое дерево, удовлетворяющее следующим условиям:

- Каждая вершина, кроме листа, имеет 2 или 3 сына;
- Все листья находятся на одинаковой глубине, иначе говоря на любом пути от корня до листа одно и то же число ребер.
- Высотой дерева назовем число ребер на пути от корня до листа.

В некотором 2-3 дереве ровно 2025 листьев. Какая минимальная и максимальная высота может быть у этого дерева? Введите эти два числа через пробел.

Вопрос 7

По аналогии с NP-полными задачами можно ввести понятие P-полной задачи. Для разделения каких сложностных классов имеет смысл ввести это понятие, и какие ограничения следует наложить на сведение? Выберите все подходящие ответы.

Ответ

1. P и L (log-space), сведение за время O(log n)
2. P и L, сведение на памяти O(log n)
3. P и L, сведение за полином от log n
4. P и L, сведение за полином от n
5. P и NL (nondeterministic log-space), сведение за время O(log n)
6. P и NL, сведение на памяти O(log n)
7. P и NL, сведение за полином от log n
8. P и NL, сведение за полином от n
9. P и NP, сведение за время O(log n)
10. P и NP, сведение на памяти O(log n)
11. P и NP, сведение за полином от log n
12. P и NP, сведение за полином от n

Вопрос 8

Рассмотрим все положительные целые числа, у которых в записи в троичной системе счисления цифры идут по неубыванию. Упорядочим их по возрастанию.

Задано число :math:`k`. Необходимо найти :math:`k`-е из этих чисел. Выведите его в десятичной системе счисления.

Формат ввода

На ввод подается целое число :math:`k` (:math:`1 \leqslant k \leqslant 10^4`).

Формат вывода

Выведите :math:`k`-е в возрастающем порядке число, у которого цифры в троичной системе счисления идут по неубыванию.

Вопрос 9

Массив называется однообразным, если в нем встречается не более :math:`k` различных значений.

Задан массив :math:`a` целых чисел длины :math:`n`. Рассмотрим все его возможные подмассивы :math:`a[l:r]`, где :math:`a[l:r]=[a[l],a[l+1], \ldots,a[r-1]]`. Определите, для какого количества пар :math:`(l, r)`, таких что :math:`0 \leqslant l \leqslant r \leqslant n-1` подмассив :math:`a[l:r]` заданного массива является однообразным.

Например, пусть :math:`a=[1,2,3,3,2,1]` и :math:`k=2`. У него 14 однообразных подмассивов: :math:`a[0:1]=[1]`, :math:`a[0:2]=[1,2]`, :math:`a[1:2]=[2]`, :math:`a[1:3]=[2,3]`, :math:`a[1:4]=[2,3,3]`, :math:`a[1:5]=[2,3,3,2]`, :math:`a[2:3]=[3]`, :math:`a[2:4]=[3,3]`, :math:`a[2:5]=[3,3,2]`, :math:`a[3:4]=[3]`, :math:`a[3:5]=[3,2]`, :math:`a[4:5]=[2]`, :math:`a[4:6]=[2,1]`, :math:`a[5:6]=[1]`.

Формат ввода

Ввод содержит несколько тестовых примеров.

Первая строка ввода содержит целое число :math:`t` - количество тестовых примеров (:math:`1 \leqslant t \leqslant 1000`). Далее следуют описания тестовых примеров.

Каждый тестовый пример описывается двумя строками. Первая строка содержит целые числа :math:`n` и :math:`k` (:math:`1 \leqslant n \leqslant 200000`, :math:`1 \leqslant k \leqslant n`). Вторая строка содержит :math:`n` целых чисел :math:`a[0]`, :math:`a[1]`, ..., :math:`a[n-1]` (:math:`1 \leqslant a[i] \leqslant 10`).

Формат вывода

Для каждого тестового примера выведите одно целое число: количество однообразных подмассивов заданного в этом тестовом примере массива.

Пример

Ввод

1
6 2
1 2 3 3 2 1

Вывод

14

Вопрос 10

Задана строка :math:`s`, состоящая из строчных букв английского алфавита, и число :math:`k`.

Требуется найти количество строк длины :math:`n`, состоящих из строчных букв английского алфавита, в которые строка :math:`s` входит как подстрока не менее :math:`k` раз.

Следует вывести остаток от деления количества таких строк на число :math:`10^9 + 7`.

Формат ввода

Первая строка ввода содержит два целых числа :math:`n` и :math:`k` (:math:`1 \leqslant n \leqslant 1000`, :math:`1 \leqslant k \leqslant 10`).

Вторая строка ввода содержит строку :math:`s` (строка :math:`s` состоит из строчных букв английского алфавита, она не пуста, ее длина не превышает :math:`100`).

Формат вывода

Выведите одно число, остаток от числа искомых строк на :math:`10^9 + 7`.

Пример

Ввод

6 2
aba

Вывод

53

.. raw:: html

   <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2343650775986433"
     crossorigin="anonymous"></script>
   <!-- First Ads -->
   <ins class="adsbygoogle"
      style="display:block"
      data-ad-client="ca-pub-2343650775986433"
      data-ad-slot="4417625951"
      data-ad-format="auto"
      data-full-width-responsive="true"></ins>
   <script>
      (adsbygoogle = window.adsbygoogle || []).push({});
   </script>
